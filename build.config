[{caterpillar, [
    {logs, [
        {log_file, "/var/log/caterpillar/caterpillar.log"}
    ]},
    {net_kernel, [
        {self, 'caterpillar@127.0.0.1'},
        {cookie, 'caterpillar'},
        {scan_nodes, ['caterpillar@127.0.0.1']}
    ]},
    {services, [
        {caterpillar_event, []},

        {caterpillar_builder, [
            {build_path, "/var/lib/caterpillar/build"},
            {deps, "/var/lib/caterpillar/build/dependencies"},
            {poll_time, 1000},
            {ident, amd64},
            {build_workers_number, 5},
            {queue_missing, true},
            {work_id, "/var/lib/caterpillar/build/work_id"}
        ]},

        {caterpillar_build_worker, [
            {build_path, "/var/lib/caterpillar/build"},
            {buckets, "/var/lib/caterpillar/build/buckets"},
            {deps, "/var/lib/caterpillar/build/dependencies"}
        ]}

%        {caterpillar_worker, [
%            {ident, amd64},
%            {worker_plugin, caterpillar_simple_builder},
%            {worker_plugin_init, [
%                {work_id_file, "/var/lib/caterpillar/simple_builder/work_id"},
%                {archive_root, "/var/lib/caterpillar/simple_builder/archive_root"},
%                {repository_root, "/var/lib/caterpillar/simple_builder/repository_root"},
%                {deploy_root, "/var/lib/caterpillar/simple_builder/deploy_root"}
%            ]}
%        ]}
    ]}
]}].

