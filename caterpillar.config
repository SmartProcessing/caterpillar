[{caterpillar, [
    {logs, [
        {log_file, "/var/log/caterpillar/caterpillar.log"}
    ]},
    {net_kernel, [
        {self, 'caterpillar@127.0.0.1'},
        {cookie, 'caterpillar'}
    ]},
    {services, [

        {caterpillar_repository, [
            {work_id_file, "/var/lib/caterpillar/repository/work_id"},
            {repository_root, "/srv/bzr"},
            {repository_db, "/var/lib/caterpillar/repository/repo.db"},
            {archive_root, "/var/lib/caterpillar/repository/archive_root"},
            {export_root, "/var/lib/caterpillar/repository/export_root"},
            {notify_root, "/var/lib/caterpillar/repository/notify_root"},
            {scan_interval, 600}, %sec
            {vcs_plugin, caterpillar_bzr_plugin},
            {vcs_plugin_init, []}
        ]},

        {caterpillar_event, []},

        {caterpillar_notifier, []},

        {caterpillar_worker, [
            {ident, amd64},
            {worker_plugin, caterpillar_simple_builder},
            {worker_plugin_init, [
                {work_id_file, "/var/lib/caterpillar/simple_builder/work_id"},
                {archive_root, "/var/lib/caterpillar/simple_builder/archive_root"},
                {repository_root, "/var/lib/caterpillar/simple_builder/repository_root"},
                {deploy_root, "/var/lib/caterpillar/simple_builder/deploy_root"}
            ]}
        ]}

        %{caterpillar_deploy, []}
    ]}
]}].

